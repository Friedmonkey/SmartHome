@page "/smarthome/{SmartGuid}/devices"
@inherits SmartHomeGuidPage

@inject ApiService apiService;

<MudButton OnClick="RemoveCache">Remove cache entry</MudButton>

@code {
    [CascadingParameter(Name = "CurrentSmartHome")]
    public SmartHomeModel? CurrentSmartHome { get; set; }

    public void RemoveCache()
    {
        if (CurrentSmartHome is not null)
        { 
            Guid guid = CurrentSmartHome.Id;
            apiService.RemoveSmartHomeCache(new (guid));
        }
    }
}

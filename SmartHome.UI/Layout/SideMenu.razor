<MudDrawer Breakpoint="Breakpoint.Md"
Elevation="2"
@bind-Open="@_open"
Style="overflow:hidden"
Variant="@DrawerVariant.Mini">

    <MudDrawerHeader Class="align-center d-flex align-center pa-0">
        <MudIconButton Color="@Color.Primary"
        Icon="@Icons.Material.Rounded.Menu"
        Size="Size.Large"
        OnClick="@OpenSideMenu" />
        @if (_open && CurrentSmartHome is not null)
        {
            <div class="d-flex flex-row">
                <MudIcon Icon="@Icons.Material.Rounded.Home"/>
                <MudText>@CurrentSmartHome.Name</MudText>
            </div>
        }

    </MudDrawerHeader>

    <NavMenu/>

    <MudSpacer />
    @if (_open)
    {
        <div class="d-flex">
            <MudSpacer />
            <MudImage Alt="Logo" Src="logo.png" Width="100" Class="mb-4" />
            <MudSpacer />
        </div>
    }
    else
    {
        <MudText Typo="Typo.overline" Align="Align.Center">SH</MudText>
    }
</MudDrawer>

@code {
    [CascadingParameter(Name = "CurrentSmartHome")]
    public SmartHomeModel? CurrentSmartHome { get; set; }

    bool _open = false;

    void OpenSideMenu()
    {
        _open = !_open;
    }
}